<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link href="/resources/admin.css" rel="stylesheet" />
    <title>Admin page</title>
  </head>
  <body>
    <header>
      <nav>
        <a href="#"
          ><img src="/resources/WATCHA_PEDIA_Logo_Main1.png" alt="Header Image"
        /></a>
      </nav>
      <div class="header-text">
        <h3>
          관리자 페이지에 오신 것을 환영합니다. 이곳에서 다양한 기능을 관리할 수
          있습니다.
        </h3>
      </div>
    </header>

    <main class="main-content">
      <div class="chart-container">
        <h2>월간 방문자 수</h2>
        <canvas id="visitorsChart"></canvas>
        <h2>월간 가입자 수</h2>
        <canvas id="membersChart"></canvas>
      </div>
    </main>

    <div class="container">
      <aside>
        <ul class="menu">
          <li>
            <a href="#">대시보드</a>
            <ul class="submenu">
              <li><a href="#">한달간 방문한 방문자 수</a></li>
              <li><a href="#">한달간 가입한 회원 수</a></li>
              <li><a href="#">리뷰 반응</a></li>
            </ul>
          </li>
          <li>
            <a href="#">회원 관리</a>
            <ul class="submenu" onclick="toggleSubmenu('member-submenu')">
              <li><a href="#">회원계정 관리</a></li>
              <li><a href="#">문의 내역</a></li>
            </ul>
          </li>
          <li>
            <a href="#">리뷰 관리</a>
            <ul class="submenu" onclick="toggleSubmenu('member-submenu')">
              <li><a href="#">리뷰 삭제</a></li>
            </ul>
          </li>
          <li>
            <a href="#">컨텐츠 정보</a>
            <ul class="submenu" onclick="toggleSubmenu('member-submenu')">
              <li><a href="#">수정</a></li>
              <li><a href="#">삭제</a></li>
            </ul>
          </li>
          <li>
            <a href="#">기본 설정</a>
            <ul class="submenu" onclick="toggleSubmenu('member-submenu')">
              <li><a href="#">로그인 블락</a></li>
            </ul>
          </li>
        </ul>
      </aside>
    </div>
    <footer>
      <p>&copy; 2023 어드민 페이지. 모든 권리 보유.</p>
    </footer>
    <script src="/resources/admin.js" defer></script>
    <script>
      window.addEventListener("DOMContentLoaded", setupMenu);

      document.querySelectorAll(".menu a").forEach(function (link) {
        link.addEventListener("click", function (e) {
          e.preventDefault();

          document.querySelectorAll(".menu a").forEach(function (menuItem) {
            menuItem.classList.remove("active");
          });

          this.classList.add("active");
          var submenuItems = this.nextElementSibling;

          if (submenuItems && submenuItems.classList.contains("submenu")) {
            submenuItems.querySelectorAll("a").forEach(function (submenuItem) {
              submenuItem.addEventListener("click", function (submenuEvent) {
                submenuEvent.stopPropagation();
                var contentTitle = submenuItem.textContent.trim();
                var contentArea = document.querySelector(".main-content");
                contentArea.innerHTML =
                  "<h4>" +
                  contentTitle +
                  "</h4><p>" +
                  contentTitle +
                  " 관련 내용이 표시.</p>";
              });
            });
          } else {
            var contentTitle = this.textContent.trim();
            var contentArea = document.querySelector(".main-content");
            contentArea.innerHTML =
              "<h4>" +
              contentTitle +
              "</h4><p>" +
              contentTitle +
              " 관련 내용이 표시.</p>";
          }
        });
      });
    </script>
  </body>
</html>
